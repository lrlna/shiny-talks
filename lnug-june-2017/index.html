<!DOCTYPE html>
<html>
  <head>
    <title>KNOCK-KNOCK-WHO-THERE-FILE-COMPRESSION-TALK.TAR.TRZ.BZ2.GZ</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Space+Mono" rel="stylesheet">
    <link href="index.css" rel="stylesheet">
    <script type='text/javascript' src="index.js"></script>
  </head>
  <body>
    <div></div>
    <div>KNOCK-KNOCK</div>
    <div>KNOCK-KNOCK-WHO-THERE</div>
    <div>KNOCK-KNOCK-WHO-THERE-FLE-COMPRSSN</div>
    <div>KNOCK-KNOCK-WHO-THERE-FLE-COMPRSSN-TALK.TAR.TRZ.BZ2.GZ</div>
    <div>KNOCK-KNOCK-WHO-THERE-<em>FILE</em>-COMPRSSN-TALK_FINAL.TAR.TRZ.BZ2.GZ</div>
    <div>KNOCK-KNOCK-WHO-THERE-<em>FILE-COMPRESSION</em>-TALK_FINAL2.TAR.TRZ.BZ2.GZ</div>
    <div class="right">I am <a href="https://twitter.com/_lrlna">_lrlna</a></div>
    <div>I write code over at <a href="https://scripto.cc">scripto.cc</a></div>
    <div>
      Compression
      </br>
      o(*^â–½^*)o
    </div>
    <div>
      "Roles of the JavaScript are extending far beyond XML/HTML DOM manipulation"
      <div class="cite"><a href="http://ieeexplore.ieee.org/abstract/document/7054230/">Yasutaka Sakamoto et al.</a></div>
    </div>
    <div class="small">(lol cute)</div>
    <div>
      "Roles of the JavaScript are extending far beyond XML/HTML DOM manipulation"
      <div class="cite"><a href="http://ieeexplore.ieee.org/abstract/document/7054230/">Yasutaka Sakamoto et al.</a></div>
    </div>
    <div class="right">we are creating a ton of <em>jahhvascript traffic</em>, y'all</div>
    <div>
      "JavaScript data traffic is <em>saving over 50%</em> by HTTP compression."
      <div class="cite"><a href="http://ieeexplore.ieee.org/abstract/document/7054230/">Yasutaka Sakamoto et al.</a></div>
    </div>
    <div>
      <code>
        <pre>
          zlib.gzip(min.code, function (err, compressed) {
            if (err) {
              log.error(err, 'Unable to gzip output')
              return fs.writeFile(cachedFile, min.code, logger)
            }
            fs.writeFile(cachedFile, compressed, logger)
          })
        </pre>
			</code>
		</div>
    <div>
      <code>
        <pre>
          <em>zlib.gzip</em>(min.code, function (err, compressed) {
            if (err) {
              log.error(err, 'Unable to gzip output')
              return fs.writeFile(cachedFile, min.code, logger)
            }
            fs.writeFile(cachedFile, compressed, logger)
          })
        </pre>
			</code>
		</div>
    <div><em>HTTP Compression</em></div>
    <div><img src="./img/regular-html.gif" alt="compress"></div>
    <div><img src="./img/zip-it-up.gif" alt="compress"></div>
    <div><img src="./img/zipped.gif" alt="compression size"></div>
    <div><img src="./img/accept1.png" alt="typical frame"></div>
    <div><img src="./img/accept1-1.png" alt="typical frame"></div>
    <div><img src="./img/accept1-2.png" alt="typical frame"></div>
    <div><img src="./img/accept-encoding.gif" alt="accept encoding"></div>
    <div><img src="./img/content-encoding.gif" alt="content encoding"></div>
    <div><code>Accept-Encoding:gzip, deflate, sdch, br</code></div>
    <div><code>Accept-Encoding:gzip, <em>deflate</em>, sdch, br</code></div>
    <div><img src="./img/what-makes-deflate.png" alt="what makes deflate"></div>
    <div>
      Huffffffff
      </br>
      ff-ffffffman
      </br>
      <em>coding</em>
    </div>
    <div><img src="./img/data-stream.png" alt="huffman coding"></div>
    <div>
      <div class="right">generate </div>
      <em>frequency</em> 
      <div class="right">table</div>
    </div>
    <div><img src="./img/data-stream.png" alt="huffman coding"></div>
    <div><img src="./img/huffman-frequency-table.png" alt="frequency table"></div>
    <div>
      get the pppppp
      <div class="right">ppppp</div>
      <em>pprobability</em>
    </div>
    <div><img src="./img/huffman-probability-table.png" alt="frequency table"></div>
    <div>
      ðŸŒ³ðŸŒ³ðŸŒ³ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³
      <div class="right">ðŸŒ³ðŸŒ³trees</div>
      ðŸŒ³ðŸŒ³ðŸŒ³ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³ ðŸŒ³
    </div>
    <div><img src="./img/huffman-tree.png" alt="frequency table"></div>
    <div><img src="./img/huffman-tree-first.png" alt="frequency table"></div>
    <div><img src="./img/huffman-tree-full.png" alt="frequency table"></div>
    <div><img src="./img/huffman-tree-values.png" alt="frequency table"></div>
    <div><img src="./img/huffman-tree-frequency.png" alt="frequency table"></div>
    <div><img src="./img/huffman-tree-probability.png" alt="frequency table"></div>
    <div><img src="./img/huffman-tree-leafs.png" alt="frequency table"></div>
    <div><img src="./img/huffman-tree-one.png" alt="frequency table"></div>
    <div><img src="./img/huffman-trees.png" alt="frequency table"></div>
    <div>Abraham Lempel and Jacob Ziv</div>
    <div>LZ77</div>
    <div><img src="./img/data-stream.png" alt="huffman coding"></div>
    <div><img src="./img/lz77-buffers.png" alt="huffman coding"></div>
    <div><img src="./img/lz77-distance.png" alt="huffman coding"></div>
    <div><img src="./img/lz77-length.png" alt="huffman coding"></div>
    <div><code>< length, distance ></code></div>
    <div><img src="./img/what-makes-deflate.png" alt="what makes deflate"></div>
    <div><em>DEFLATE:</em> used with PNGs, ZIP, gzip</div>
    <div><img src="./img/data-stream.png" alt="huffman coding"></div>
    <div><img src="./img/deflate2.png" alt="typical frame"></div>
    <div><img src="./img/deflate2-1.png" alt="typical frame"></div>
    <div><img src="./img/deflate2-2.png" alt="typical frame"></div>
    <div><img src="./img/deflate2-3.png" alt="typical frame"></div>
    <div><img src="./img/deflate3.png" alt="typical frame"></div>
    <div><code>Accept-Encoding:<em>gzip</em>, deflate, sdch, br</code></div>
    <div><img src="./img/what-makes-gzip.png" alt="what makes gzip"></div>
    <div><img src="./img/what-makes-zlib.png" alt="what makes zlib"></div>
    <div>more control over <em>processing</em> + <em> memory </em> use</div>
    <div>create <em>better tradeoffs</em></div>
    <div>comes with <em>9 presets</em> for compression</div>
    <div>oh, hey use <a href="https://nodejs.org/api/zlib.html"><code>require('zlib')</code></a></div>
    <div><img src="./img/typing.gif" alt="typing"><em>codin o'clock</em></div>
    <div><code>Accept-Encoding:gzip, deflate, sdch, <em>br</em></code></div>
    <div><em>brotli</em></div>
    <div><em>brotli:</em>more intune to HTTP compression</div>
    <div><img src="./img/deflate1.png" alt="typical frame"></div>
    <div><img src="./img/a-single-block.png" alt="a single deflate block"></div>
    <div><img src="./img/brotli.png" alt="a single brotli block"></div>
    <div>comes with a dictionary of commonly used HTML terms</div>
    <div><img src="./img/waiting.gif" alt="waiting"><em>but</em>it's base, it's a bit <em>slower</em></div>
    <div><code>require('iltorb')</code></div>
    <div><img src="./img/typing2.gif" alt="typingg"><em>codin o'clock</em></div>
    <div><code>require('iltorb')</code></div>
    <div><img src="./img/waiting.gif" alt="waiting">wayyyy slower</div>
    <div>
      <div class="right">sss</div>
      snappy
    </div>
    <div><img src="./img/snappy.gif" alt="snappy"></div>
    <div><img src="./img/train.gif" alt="snappy"><em>way faster</em></div>
		<div><code>require('node-snappy')</code></div>
    <div><code>Accept-Encoding:gzip, deflate, sdch, br</code></div>
    <div>
      Thanks for having me
      <em>o(*^â–½^*)o</em>
      </br>
    </div>
    <div><em>sources</em>dot js</div>
    <div class="right">libbbs</div>
    <div>
      <a class="smaller" href="https://nodejs.org/api/zlib.html">node's zlib</a>
      </br>
      <a class="smaller" href="https://github.com/aickin/shrink-ray">shrin-ray</a>
      </br>
      <a class="smaller" href="https://github.com/mayhemydg/iltorb">iltorb, node's brotli with native bindings</a>
      </br>
      <a class="smaller" href="https://github.com/kesla/node-snappy">snappyyy</a>
    </div>
    <div>articles</div>
    <div>
      <a class="smaller" href="https://blog.cloudflare.com/results-experimenting-brotli/">cloudflare + brotli</a>
      </br>
      <a class="smaller" href="https://blogs.dropbox.com/tech/2017/04/deploying-brotli-for-static-content/">dropbox + brotli</a>
      </br>
      <a class="smaller" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding">accept encoding</a>
    </div>
  </body>
</html>
